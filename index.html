<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Para Flor</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #ffe0ec, #ffe4f2);
      color: #d63384;
      text-align: center;
      padding: 30px;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 10px;
      color: #c2185b;
    }

    p {
      font-size: 18px;
      margin-bottom: 25px;
    }

    table {
      margin: 0 auto;
      border-collapse: collapse;
      box-shadow: 0 0 20px rgba(220, 20, 60, 0.2);
    }

    td {
      border: 1px solid #ffb6c1;
      width: 40px;
      height: 40px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      background-color: white;
      color: #c2185b;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }

    td:hover {
      background-color: #ffe0ec;
    }

    td.selected {
      background-color: #f8bbd0;
    }

    td.found {
      background-color: #c2185b;
      color: white;
    }

    .word-list {
      margin-top: 30px;
      font-size: 20px;
      font-weight: bold;
    }

    .word-list span {
      margin: 8px;
      padding: 5px 10px;
      display: inline-block;
      border-radius: 8px;
      background: #fff0f5;
    }

    .found-word {
      text-decoration: line-through;
      color: gray;
      background-color: #fce4ec;
    }
  </style>
</head>
<body>

  <h1>ðŸ’– Sopa de Letras para mi Flor hermosa ðŸ’–</h1>
  <p>Encuentra las palabras ocultas dedicadas a ti... ðŸŒ¹</p>

  <table id="sopa">
    <tbody></tbody>
  </table>

  <div class="word-list" id="wordList">
    <!-- Palabras aquÃ­ -->
  </div>

  <script>
    const palabras = [
      "AMOR", "FLOR", "TEMPLO", "FELICIDAD", "SOFIJAJA",
      "ETERNIDAD", "INCREIBLE", "MEENCANTAS", "TEQUIERO", "MAURIMEJORSUEGRO"
    ];

    const sopa = [
      "AMORXTETXFLOZ", 
      "LKSOFIJAJAYHI", 
      "ETEMPLOHGFDAJ", 
      "FELICIDADASSD", 
      "OTRETNIDINRER", 
      "YQINCREIBLEUY", 
      "MEENCANTASXLE", 
      "TEQUIERODEWSD", 
      "MAURIMEJORSUE", 
      "OTSORGHDKPLMN"
    ];

    const table = document.getElementById("sopa");
    const wordListDiv = document.getElementById("wordList");
    let selectedCells = [];

    // Cargar sopa en la tabla
    sopa.forEach((fila, y) => {
      const row = document.createElement("tr");
      for (let x = 0; x < fila.length; x++) {
        const cell = document.createElement("td");
        cell.textContent = fila[x];
        cell.dataset.x = x;
        cell.dataset.y = y;
        cell.addEventListener("click", () => toggleSelect(cell));
        row.appendChild(cell);
      }
      table.querySelector("tbody").appendChild(row);
    });

    // Mostrar lista de palabras
    palabras.forEach(pal => {
      const span = document.createElement("span");
      span.textContent = pal;
      span.dataset.word = pal;
      wordListDiv.appendChild(span);
    });

    function toggleSelect(cell) {
      if (cell.classList.contains("found")) return;

      if (cell.classList.contains("selected")) {
        cell.classList.remove("selected");
        selectedCells = selectedCells.filter(c => c !== cell);
      } else {
        cell.classList.add("selected");
        selectedCells.push(cell);
      }

      checkWord();
    }

    function checkWord() {
      const selectedText = selectedCells.map(c => c.textContent).join("");
      const reversed = selectedText.split('').reverse().join('');

      const found = palabras.find(p => p === selectedText || p === reversed);
      if (found) {
        selectedCells.forEach(c => {
          c.classList.remove("selected");
          c.classList.add("found");
        });

        const wordElement = [...wordListDiv.children].find(span => span.textContent === found);
        if (wordElement) {
          wordElement.classList.add("found-word");
        }

        selectedCells = [];
      }
    }
  </script>

</body>
</html>
